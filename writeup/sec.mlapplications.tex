\section{Machine Learning Applications}

This section gives an overview of two machine learning application architectures: The traditional one and the data model driven architecture. We compare both approaches, identify the roles involved in the development process and challenges that arise from choosing either architecture. We show that our data model driven architecture is superior in terms of [TODO: superior in what?].

\subsection{Roles}

In a typical machine learning application there is a \emph{domain expert} who has data available and a problem that needs to be solved. Common tasks are exploratory analysis or hypothesis testing [TODO: cite statistics book]. A popular technique to perform such analysis is to use probabilistic models. By selecting a model that fits the given data one can then use an inference algorithm to calculate values of hidden variables. Those variables correspond to some hidden structure of the data that is of interest for the analyst.

Most of the time the domain expert will either have an \emph{application programmer} at hand or do the work himself. The application programmer is responsible for implementing the analysis pipeline, plugging the data and performing/preparing the analysis.

\emph{Machine learning specialists} are responsible for developing and evaluating new models for different applications. They often have high theoretical knowledge in the field of statistics and computer science and publish new models in scientific journals or present them on conferences.

Often, neither the domain expert nor the application programmer has the required knowledge to develop and implement a custom model for the given problem and machine learning specialists are rare and expensive. Luckily, there are a couple of standard implementations for common probabilistic models available.\footnote{Section~\ref{subsec:custom-inference} gives a broader overview of existing inference algorithm implementations.} However, it can be difficult to customize those implementations and to include the available meta data into the analysis. A common practice is to use standard models and join the meta data afterwards to perform analysis on the integrated database.

\subsection{Traditional Architecture}

The traditional architecture is visualized in Figure~\ref{fig:ml-application-architecture}. In step (A), the data are plugged into an inference algorithm implementation which (B) outputs a parameter estimate or some hidden variable values. In (C), the results are combined with the data to be available for further analysis, which happens in (D). Afterwards the results will be presented.



\begin{figure}[t]
\centering
\scalebox{\tikzScale}{\adjustTikzSize \input{img/MLApplication_typical.tex}}
\caption{Traditional machine learning application architecture.}\label{fig:ml-application-architecture}
\end{figure}

\textbf{Roles}
\begin{itemize}
\item Traditional roles
	\begin{itemize}
	\item Domain expert (provides data, does hypothesis testing using analysis result and visualization)
	\item Machine learning scientist (provides inference algorithm, data analysis, transformation and visualization)
	\end{itemize}
	$\Rightarrow$ Problem: Machine learning scientists are rare and expensive
\item Solution: New roles
	\begin{itemize}
	\item Domain expert (provides data, does hypothesis testing using analysis result and visualization)
	\item Application programmer (uses standard inference algorithm implementation, can perform arbitrary analysis on data and inference results using simple queries, provides visualization)
	\end{itemize}
	$\Rightarrow$ Machine learning scientist provides standard inference algorithm implementations
\end{itemize}

\textbf{Challenges}
\begin{enumerate}
\item[(A)] Data needs to be converted to the required inference algorithm input format
	\begin{description}
	\item[Traditional solution] Consult the documentation of the inference algorithm implementation and convert the data into the required input format
	\item[New solution] Conversion under the hood given the matched data model because the implementation is known
	\end{description}
\item[(B)] Optimized implementations may not explicitly calculate all missing variables
	\begin{description}
	\item[Traditional solution] Manually calculating the missing values and distributions
	\item[New solution] Application of sum-product and max-sum algorithm on the given results and the model
	\end{description}
\item[(C)] Integration of given data and inference results
	\begin{description}
	\item[Traditional solution] Consult the documentation of the inference algorithm output format, understand it and load it back to your original data integrating it manually
	\item[New solution] Data integration by model integration: match the statistical model and the model of the given data so that integration is just a matter of writing data corresponding to the combined schema. Output format is known by the framework developer.
	\end{description}
\item[(D)] Analysis of data having partly probabilistic relationships (common queries)
	\begin{description}
	\item[Traditional solution] Calculating group-by aggregations, filters and transformations (sometimes representing computing marginals on filtered data $\rightarrow$ normalization required)
	\item[New solution] POLAP offering common transformation operations on entities and normal or probabilistic relationships.
	\end{description}
\end{enumerate}

\subsection{Data Model Driven Architecture}

\begin{itemize}
\item provide domain specific data model
\item match machine learning algorithm model template (C)
\item framework performs inference (custom implementation or standard inference algorithm) (A+B)
\item combined data model has inference results in it
\item perform analysis on combined model (D)
\end{itemize}

\begin{figure}
\centering
\scalebox{\tikzScale}{\adjustTikzSize \input{img/MLApplication_dmdriven.tex}}
\caption{Data model driven machine learning application architecture.}\label{fig:ml-application-architecture-dm}
\end{figure}
