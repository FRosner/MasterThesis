\section{Integration of Plate Models and Entity Relationship Models}

\subsection{Translation of Plate Models to Entity Relationship Models}

\textbf{Translation procedure}
\begin{enumerate}
\item make constraints explicit
\item remove variable dependencies (arrows)
\item convert vector variables to atomic ones
\item translate this atomic plate model (APM) to an entity relationship model (ERM)
\item adjust cardinalities and weak relationships of observed variables according to the given constraints and reduce the resulting ERM (optional)
\end{enumerate}

\begin{figure}
\centering
\resizebox{.9\linewidth}{!}{\input{img/pm2erm.tex}}
\caption{Translation of different plate model constructs to entity relationship models.}\label{fig:pm2erm}
\end{figure}

\textbf{APM $\Rightarrow$ ERM}
\begin{itemize}
\item variables $\Rightarrow$ attributes\footnote{Variables that are not inside of a plate need to be assigned to an artificial entity type called "Global" [CITATION NEEDED].}
\item plates $\Rightarrow$ entity types
\item plate intersections $\Rightarrow$ relationships (association entitites)\\
	(plates that are covered completely will have (1,1) cardinality to the association entity)
\end{itemize}

\textbf{Observed variables}
\begin{itemize}
\item Observed multinomial variables $x \in \{0,1\}$ with a constraint over the domain $V$, e.g. $\sum_{v \in V} x_v = 1,$ that are association entity attributes affect the relation between this association entity and the entity type of $V$. By observing them the relationship is not weak anymore and the observed variable can be removed as an attribute.
\end{itemize}

\subsection{Dirichlet Multinomial Text Clustering Example}

\textbf{Generative process}
\begin{enumerate}
\item draw cluster proportions $\vec \pi \sim \text{Dir}(\vec \alpha)$
\item draw word proportions per cluster $\forall k \in K: \vec \mu_k \sim \text{Dir}(\vec \beta_k)$
\item draw cluster assignments per document $\forall n \in N: \vec z_n \sim \text{Mult}(\vec \pi)$
\item draw token assignments per token $\forall n \in N, m \in M_n: \vec d_{nm} \sim \text{Mult}(\vec \mu_k)$, where $k$ is the cluster selected by $\vec z_n$
\end{enumerate}

\textbf{Constraints}
\begin{align}
\sum_{k \in K} z_{nk} &= 1\\
\sum_{v \in V} d_{nmv} &= 1\\
\sum_{k \in K} \pi_{k} &= 1\\
\sum_{v \in V} \mu_{kv} &= 1
\end{align}

\begin{figure}[t]
\begin{minipage}[t]{0.49\linewidth}
	\begin{center}
		\subfloat[Original clustering plate model]{\label{fig:clustering_platemodel_original}
    	\resizebox{1\linewidth}{!}{\input{img/clustering_transformation_platemodel.tex}}}
	\end{center}
\end{minipage}
\hspace{0.0cm}
\begin{minipage}[t]{0.49\linewidth}
	\begin{center}
		\subfloat[Expanded clustering plate model]{\label{fig:clustering_platemodel_expanded}
		\resizebox{1\linewidth}{!}{\input{img/clustering_transformation_platemodel_expanded.tex}}}
	\end{center}
\end{minipage}\\
\caption{Transformation of the plate model for Dirichlet multinomial clustering of text documents from implicit vector variables to an expanded version containing only atomic variables.}
\label{img:clustering_platemodels}
\end{figure}

\subsection{Latent Dirichlet Allocation Example}

\begin{figure}[t]
\begin{minipage}[t]{0.49\linewidth}
	\begin{center}
		\subfloat[Original LDA plate model]{\label{fig:topic_platemodel_original}
    	\resizebox{1\linewidth}{!}{\input{img/topic_transformation_platemodel.tex}}}
	\end{center}
\end{minipage}
\hspace{0.0cm}
\begin{minipage}[t]{0.49\linewidth}
	\begin{center}
		\subfloat[Expanded LDA plate model]{\label{fig:topic_platemodel_expanded}
		\resizebox{1\linewidth}{!}{\input{img/topic_transformation_platemodel_expanded.tex}}}
	\end{center}
\end{minipage}\\
\caption{Transformation of the plate model for latent Dirichlet allocation topic models from implicit vector variables to an expanded version containing only atomic variables.}
\label{img:topic_platemodels}
\end{figure}
